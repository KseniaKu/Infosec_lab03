---
title: "Лабораторная работа №3"
author: "Кувшинова К.О. группа НФИ-02-19"
subtitle: "Дискреционное разграничение прав в Linux. Два пользователя"
output:
  word_document: default
  pdf_document: default
toc-title: Содержание
toc: yes
toc_depth: 2
lof: yes
fontsize: 12pt
linestretch: 1.5
papersize: a4paper
documentclass: scrreprt
polyglossia-lang: russian
polyglossia-otherlangs: english
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase
indent: yes
pdf-engine: lualatex
header-includes:
- \linepenalty=10
- \interlinepenalty=0
- \hyphenpenalty=50
- \exhyphenpenalty=50
- \binoppenalty=700
- \relpenalty=500
- \clubpenalty=150
- \widowpenalty=150
- \displaywidowpenalty=50
- \brokenpenalty=100
- \predisplaypenalty=10000
- \postdisplaypenalty=0
- \floatingpenalty = 20000
- \raggedbottom
- \usepackage{float}
- \floatplacement{figure}{H}
---


# Цель работы

Целью данной лабораторной работы является приобретение практических навыков работы в консоли с атрибутами файлов для групп пользователей.

# Выполнение лабораторной работы

1. В установленной операционной системе создали учётную запись пользователя guest (используя учётную запись администратора) с помощью команды **useradd guest**
2. Задали пароль для пользователя guest (используя учётную запись администратора) с помощью команды **passwd guest**
3. Аналогично создали второго пользователя guest2.
4. Добавили пользователя guest2 в группу guest с помощью команды **gpasswd -a guest2 guest** (@fig:001)

![Создали пользователя guest2 и добавили его в группу guest ](1.JPG){#fig:001 width=100%}

5. Осуществили вход в систему от двух пользователей на двух разных консолях: guest на первой консоли и guest2 на второй консоли.(@fig:002) (@fig:003)

![Вход в систему от пользователя guest](2.2.JPG){#fig:002 width=100%}

![Вход в систему от пользователя guest2](2.3.JPG){#fig:003 width=100%}   

6. Для обоих пользователей командой pwd определим директорию, в которой находимся. В обеих консолях находимся в директории */home/guest*. В первой командной строке это выглядит как знак тильды *~*, во второй - *guest* (@fig:004)

![Вывод команды pwd в каждой консоли](6.JPG){#fig:004 width=100%}

1. Уточним имя пользователя, его группу, кто входит в неё и к каким группам принадлежит он сам. В первой консоли видим, что имя пользователя guest, во второй - guest2. Группа в первой консоли - 1002, во второй 1002 и 1003.
Командами **groups guest** и **groups guest2** определим в какие группы входят пользователи guest и guest2. guest находится в группе guest, а guest2 - в группах guest и guest2. 
Команды **id -Gn** и **id -G** вывели данные о группах, в которые входит текущий пользователь. Вывод данных команд соответствует выводу команды **groups**. (@fig:005)

![Вывод имени пользователя и его группы в каждой консоли](7.JPG){#fig:005 width=100%}

8. Сравним полученную информацию с содержимым файла /etc/group с помощью команды **cat /etc/group | grep guest**. В обеих консолях видим одинаковый вывод : в группе 1002 находится пользователи guest и guest2, а в группе 1003 - только guest2.(@fig:006)

![Вывод команды cat /etc/group | grep guest](8.JPG){#fig:006 width=100%}

9. От имени пользователя guest2 выполним регистрацию пользователя guest2 в группе guest командой **newgrp guest** (@fig:007)

![Регистрация пользователя guest2 в группе guest](9.JPG){#fig:007 width=100%}

10. От имени пользователя guest изменим права директории /home/guest, разрешив все действия для пользователей группы **chmod g+rwx /home/guest**  (@fig:008)

![Изменения прав директории /home/guest от имени пользователя guest](10.JPG){#fig:008 width=100%}  


11. От имени пользователя guest снимем с директории /home guest/dir1 все атрибуты командой **chmod 000 dirl** и проверим правильность снятия атрибутов. (@fig:009)

![Изменения прав директории /home/guest/dir1 от имени пользователя guest](11.JPG){#fig:009 width=100%}  

12. Меняя атрибуты у директории dir1 и файла file1 от имени пользователя guest и делая проверку от пользователя guest2, заполним таблицу "Установленные права и разрешённые действия для групп".
Для создания файла использовали команду **echo "test" > /home/guest/dir1/file1**

Для удаления файла использовали команду **rm /home/guest/dir1/file1**

Для записи в файл использовали команду **echo "text" > file**

Для чтения файла использовали команду  **cat file**

Для смены директории использовали команду **cd dir**

Для просмотра файлов в директории использовали команду **ls -l**

Для переименования файла использовали команду **mv file1 file2**

Для смены атрибутов файла использовали команду **chmod (000 or another) file**

|Права дирректории |Права файла | Создание файла | Удаление файла | Запись в файл | Чтение файла | Смена дирректории | Просмотр файлов в директории | Переименование файла | Смена атрибутов файла |
| ---------------- | ---------- | -------------- | -------------- | ------------- | ------------ | ----------------- | ---------------------------- | -------------------- | --------------------- |
| d(000)           | (000)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (010)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (020)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (030)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (040)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (050)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (060)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(000)           | (070)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(010)           | (000)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(010)           | (010)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(010)           | (020)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(010)           | (030)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(010)           | (040)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(010)           | (050)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(010)           | (060)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(010)           | (070)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(020)           | (000)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(020)           | (010)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(020)           | (020)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(020)           | (030)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(020)           | (040)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(020)           | (050)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(020)           | (060)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(020)           | (070)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(030)           | (000)      | +              |  +             | -             |  -           |  +                |  -                           |  +                   | +                     |
| d(030)           | (010)      | +              |  +             | -             |  -           |  +                |  -                           |  +                   | +                     |
| d(030)           | (020)      | +              |  +             | +             |  -           |  +                |  -                           |  +                   | +                     |
| d(030)           | (030)      | +              |  +             | +             |  -           |  +                |  -                           |  +                   | +                     |
| d(030)           | (040)      | +              |  +             | -             |  +           |  +                |  -                           |  +                   | +                     |
| d(030)           | (050)      | +              |  +             | -             |  +           |  +                |  -                           |  +                   | +                     |
| d(030)           | (060)      | +              |  +             | +             |  +           |  +                |  -                           |  +                   | +                     |
| d(030)           | (070)      | +              |  +             | +             |  +           |  +                |  -                           |  +                   | +                     |
| d(040)           | (000)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(040)           | (010)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(040)           | (020)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(040)           | (030)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(040)           | (040)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(040)           | (050)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(040)           | (060)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(040)           | (070)      | -              |  -             | -             |  -           |  -                |  +                           |  -                   | -                     |
| d(050)           | (000)      | -              |  +             | -             |  -           |  -                |  +                           |  -                   | +                     |
| d(050)           | (010)      | -              |  +             | -             |  -           |  -                |  +                           |  -                   | +                     |
| d(050)           | (020)      | -              |  +             | +             |  -           |  -                |  +                           |  -                   | +                     |
| d(050)           | (030)      | -              |  +             | +             |  -           |  -                |  +                           |  -                   | +                     |
| d(050)           | (040)      | -              |  +             | -             |  +           |  -                |  +                           |  -                   | +                     |
| d(050)           | (050)      | -              |  +             | -             |  +           |  -                |  +                           |  -                   | +                     |
| d(050)           | (060)      | -              |  +             | +             |  +           |  -                |  +                           |  -                   | +                     |
| d(050)           | (070)      | -              |  +             | +             |  +           |  -                |  +                           |  -                   | +                     |
| d(060)           | (000)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(060)           | (010)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(060)           | (020)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(060)           | (030)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(060)           | (040)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(060)           | (050)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(060)           | (060)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(060)           | (070)      | -              |  -             | -             |  -           |  -                |  -                           |  -                   | -                     |
| d(070)           | (000)      | +              |  +             | -             |  -           |  +                |  +                           |  +                   | +                     |
| d(070)           | (010)      | +              |  +             | -             |  -           |  +                |  +                           |  +                   | +                     |
| d(070)           | (020)      | +              |  +             | +             |  -           |  +                |  +                           |  +                   | +                     |
| d(070)           | (030)      | +              |  +             | +             |  -           |  +                |  +                           |  +                   | +                     |
| d(070)           | (040)      | +              |  +             | -             |  +           |  +                |  +                           |  +                   | +                     |
| d(070)           | (050)      | +              |  +             | -             |  +           |  +                |  +                           |  +                   | +                     |
| d(070)           | (060)      | +              |  +             | +             |  +           |  +                |  +                           |  +                   | +                     |
| d(070)           | (070)      | +              |  +             | +             |  +           |  +                |  +                           |  +                   | +                     |

13. На основании заполненной таблицы определили те или иные минимально необходимые права для выполнения пользователем guest2 операций внутри директории dir1 и заполнили таблицу "Минимальные права для совершения операций от имени пользователей входящих в группу".

| Операции               |Минимальные права на директорию | Минимальные права на файл|
| ---------------        | ------------------------------ | ------------------------ | 
| Создание файла         |   d(030)                       |    (000)                 |
| Удаление файла         |   d(030)                       |    (000)                 | 
| Четние файла           |   d(030)                       |    (040)                 | 
| Запись в файл          |   d(030)                       |    (020)                 | 
| Переименование файла   |   d(030)                       |    (000)                 | 
| Создание поддиректории |   d(030)                       |    (000)                 | 
|Удаление поддиректории  |   d(030)                       |    (000)                 | 


# Вывод

В ходе выполнения лабораторной работы мы приобрели практические навыки работы в консоли с атрибутами файлов для групп пользователей.


# Библиография

1. Кулябов Д. С., Королькова А. В., Геворкян М. Н. Дискреционное разграничение прав в Linux. Два пользователя [Текст] / Кулябов Д. С., Королькова А. В., Геворкян М. Н. - Москва: - 4 с. [^1]: Дискреционное разграничение прав в Linux. Два пользователя.
2. Справочник 70 основных команд Linux: полное описание с примерами (https://eternalhost.net/blog/sozdanie-saytov/osnovnye-komandy-linux)